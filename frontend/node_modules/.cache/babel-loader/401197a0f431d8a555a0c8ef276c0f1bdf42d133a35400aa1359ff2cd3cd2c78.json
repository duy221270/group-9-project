{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\group-9-project\\\\frontend\\\\src\\\\pages\\\\ForgotPassword.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\n\n// Receives apiUrl prop from App.js (e.g., '/api/auth')\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ForgotPassword({\n  apiUrl\n}) {\n  _s();\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMessage('');\n    setError('');\n    setLoading(true);\n    try {\n      // POST to the forgot-password endpoint defined in the backend\n      const res = await axios.post(`${apiUrl}/forgot-password`, {\n        email\n      });\n      setMessage(res.data.message || 'Yêu cầu reset mật khẩu đã được gửi vào email của bạn!');\n      setEmail(''); // Clear email field on success\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Lỗi khi gửi yêu cầu quên mật khẩu:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Có lỗi xảy ra, vui lòng thử lại.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    style: {\n      maxWidth: 400,\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Qu\\xEAn m\\u1EADt kh\\u1EA9u\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginBottom: '15px',\n        color: 'var(--muted)'\n      },\n      children: \"Nh\\u1EADp email c\\u1EE7a b\\u1EA1n \\u0111\\u1EC3 nh\\u1EADn link \\u0111\\u1EB7t l\\u1EA1i m\\u1EADt kh\\u1EA9u.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true,\n          className: \"input\" // Use consistent class names if defined in App.css\n          ,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\" // Use consistent class names\n        ,\n        style: {\n          marginTop: '10px'\n        },\n        disabled: loading,\n        children: loading ? 'Đang gửi...' : 'Gửi yêu cầu'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: '15px',\n        color: 'var(--accent)',\n        textAlign: 'center'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: '15px',\n        color: 'var(--danger)',\n        textAlign: 'center'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(ForgotPassword, \"wFxJQ6c6qoE+zKs+kg+pNMMWX5w=\");\n_c = ForgotPassword;\nexport default ForgotPassword;\nvar _c;\n$RefreshReg$(_c, \"ForgotPassword\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","ForgotPassword","apiUrl","_s","email","setEmail","message","setMessage","error","setError","loading","setLoading","handleSubmit","e","preventDefault","res","post","data","err","_err$response","_err$response$data","console","response","className","style","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","color","onSubmit","type","value","onChange","target","required","disabled","marginTop","textAlign","_c","$RefreshReg$"],"sources":["C:/Users/DELL/group-9-project/frontend/src/pages/ForgotPassword.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\n// Receives apiUrl prop from App.js (e.g., '/api/auth')\r\nfunction ForgotPassword({ apiUrl }) {\r\n  const [email, setEmail] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setMessage('');\r\n    setError('');\r\n    setLoading(true);\r\n    try {\r\n      // POST to the forgot-password endpoint defined in the backend\r\n      const res = await axios.post(`${apiUrl}/forgot-password`, { email });\r\n      setMessage(res.data.message || 'Yêu cầu reset mật khẩu đã được gửi vào email của bạn!');\r\n      setEmail(''); // Clear email field on success\r\n    } catch (err) {\r\n      console.error('Lỗi khi gửi yêu cầu quên mật khẩu:', err);\r\n      setError(err.response?.data?.message || 'Có lỗi xảy ra, vui lòng thử lại.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\" style={{ maxWidth: 400, margin: 'auto' }}>\r\n      <h2>Quên mật khẩu</h2>\r\n      <p style={{ marginBottom: '15px', color: 'var(--muted)' }}>\r\n        Nhập email của bạn để nhận link đặt lại mật khẩu.\r\n      </p>\r\n      <form onSubmit={handleSubmit} className=\"form\">\r\n        <label>\r\n          Email:\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n            className=\"input\" // Use consistent class names if defined in App.css\r\n            disabled={loading}\r\n          />\r\n        </label>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary\" // Use consistent class names\r\n          style={{ marginTop: '10px' }}\r\n          disabled={loading}\r\n        >\r\n          {loading ? 'Đang gửi...' : 'Gửi yêu cầu'}\r\n        </button>\r\n      </form>\r\n      {/* Display Success Message */}\r\n      {message && <p style={{ marginTop: '15px', color: 'var(--accent)', textAlign: 'center' }}>{message}</p>}\r\n      {/* Display Error Message */}\r\n      {error && <p style={{ marginTop: '15px', color: 'var(--danger)', textAlign: 'center' }}>{error}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForgotPassword;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}